<!-- Include jQuery library -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>

<!-- Include Popper.js library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
    integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
    crossorigin="anonymous"></script>

<!-- Include Bootstrap library -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>

<!-- Custom Script -->
<script>
    // Dark mode toggle
    if (window.matchMedia("(prefers-color-scheme: dark)").matches && localStorage.getItem('color-theme') === 'dark') {
        document.querySelector('html').classList.add('dark');
        document.querySelector('div.dark-toggle').innerHTML = '<i class="fa-solid fa-sun"></i>';
        localStorage.setItem('color-theme', 'dark');
    }

    document.querySelector('div.dark-toggle').onclick = function () {
        const darkToggle = document.querySelector('div.dark-toggle');
        darkToggle.innerHTML = (darkToggle.innerHTML.includes('sun')) ? '<i class="fa-solid fa-moon"></i>' : '<i class="fa-solid fa-sun"></i>';
        document.querySelector('html').classList.toggle('dark');
        localStorage.setItem('color-theme', document.querySelector('html').classList.contains('dark') ? 'dark' : 'light');
    }

    document.querySelector('html').classList.add(localStorage.getItem('color-theme'));
    document.querySelector('div.dark-toggle').innerHTML = (localStorage.getItem('color-theme') === 'light') ? '<i class="fa-solid fa-moon"></i>' : '<i class="fa-solid fa-sun"></i>';
</script>

<!-- Back to top button -->
<script>
    window.onscroll = function () {
        scrollFunction();
    };

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("backToTopBtn").style.display = "block";
        } else {
            document.getElementById("backToTopBtn").style.display = "none";
        }
    }

    function scrollToTop() {
        // Smooth scroll to top
        const scrollToTop = window.setInterval(function () {
            const currentPosition = window.pageYOffset;
            if (currentPosition > 0) {
                window.scrollTo(0, currentPosition - 50); // Adjust the scroll speed here (50 is the scroll amount per interval)
            } else {
                window.clearInterval(scrollToTop);
            }
        }, 16); // Adjust the interval time (16ms for 60fps smooth animation)
    }
</script>